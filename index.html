<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>牆壁圍棋 · Wall Go</title>
  <link rel="icon" href="favicon.ico">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@500;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app">
    <header class="app-header">
      <div class="title">
        <h1>牆壁圍棋 <span class="muted">Wall Go</span></h1>
        <p class="subtitle">放棋、移動與築牆，封住越多區域越好！</p>
      </div>
      <div class="scorebar">
        <div class="badge red"><span class="dot"></span><span class="label">Red</span> <span id="score-red">0</span></div>
        <div class="badge blue"><span class="dot"></span><span class="label">Blue</span> <span id="score-blue">0</span></div>
      </div>
    </header>

    <section class="panel">
      <div class="info-row">
        <div class="phase"><span id="phase-text">棋子放置階段</span></div>
        <div class="round">
          <span>輪到：</span>
          <div class="who" id="turn-who"><span class="dot"></span><span class="txt">Red</span></div>
        </div>
        <div class="spacer"></div>
        <div class="actions">
          <button id="btn-cancel" class="btn ghost" style="display:none">取消選取</button>
          <button id="btn-build-here" class="btn ghost" style="display:none">在原位/此處建牆</button>
          <button id="btn-undo" class="btn ghost">悔棋</button>
          <button id="btn-restart" class="btn">重新開始</button>
          <button id="btn-score" class="btn accent">結算分數</button>
        </div>
      </div>
      <div class="info-row small" id="placement-left">
        放子順序：<b>🔴→🔵→🔵→🔴→🔴→🔵→🔵→🔴</b>　進度：<b id="place-progress">0 / 8</b>
      </div>
      <div class="message" id="message"></div>
    </section>

    <main class="board-wrap">
      <div id="board" class="board"></div>
    </main>

    <section class="panel rules">
      <details>
        <summary>查看規則（你這版）</summary>
        <div class="rules-content">
          <h3>流程</h3>
          <ol>
            <li><b>放置階段</b>：依序 <b>🔴→🔵→🔵→🔴→🔴→🔵→🔵→🔴</b> 放滿 8 枚。</li>
            <li><b>回合</b>：選己棋 → 0~2 步（直向、不可穿牆穿子） → <b>必在終點四邊築牆</b>。</li>
          </ol>
          <h3>計分</h3>
          <p>只計「被牆完全包圍且只含單一顏色」的領土；分數為該區域內，該色所有棋子之<strong>活動空間（可到達空格）</strong>的聯集大小。</p>
          <p>同分比最大單區活動空間，再同分為平手。</p>
        </div>
      </details>
    </section>
  </div>
  <script src="app.js"></script>
</body>
</html>
